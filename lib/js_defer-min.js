var pagespeedutils={addHandler:function(e,t,r){if(e.addEventListener){e.addEventListener(t,r,!1)}else{if(e.attachEvent){e.attachEvent("on"+t,r)}else{var s=e["on"+t];e["on"+t]=function(){r.call(this);s&&s.call(this)}}}}};window["pagespeed"]=window["pagespeed"]||{};var pagespeed=window["pagespeed"];pagespeed["deferJsNs"]={};var deferJsNs=pagespeed["deferJsNs"];deferJsNs.DeferJs=function(){this.queue_=[];this.logs=[];this.next_=0;this.dynamicInsertedScriptCount_=0;this.dynamicInsertedScript_=[];this.documentWriteHtml_="";this.eventListenersMap_={};this.jsMimeTypes=["application/ecmascript","application/javascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"];this.overrideDefaultImplementation_=true;this.origGetElementById_=document.getElementById;this.origGetElementsByTagName_=document.getElementsByTagName;this.origDocWrite_=document.write;this.origDocWriteln_=document.writeln;this.origDocOpen_=document.open;this.origDocClose_=document.close;this.origDocAddEventListener_=document.addEventListener;this.origWindowAddEventListener_=window.addEventListener;this.origDocAttachEvent_=document.attachEvent;this.origWindowAttachEvent_=window.attachEvent;this.origCreateElement_=document.createElement;this.state_=deferJsNs.DeferJs.STATES.NOT_STARTED;this.eventState_=deferJsNs.DeferJs.EVENT.NOT_STARTED;this.firstIncrementalRun_=true;this.lastIncrementalRun_=true;this.incrementalScriptsDoneCallback_=null;this.noDeferAsyncScriptsCount_=0;this.noDeferAsyncScripts_=[];this.psaScriptType_="";this.psaNotProcessed_="";this.optLastIndex_=-1};deferJsNs.DeferJs.isExperimentalMode=false;deferJsNs.DeferJs.STATES={NOT_STARTED:0,WAITING_FOR_NEXT_RUN:1,SCRIPTS_REGISTERED:2,SCRIPTS_EXECUTING:3,SYNC_SCRIPTS_DONE:4,WAITING_FOR_ONLOAD:5,SCRIPTS_DONE:6};deferJsNs.DeferJs.EVENT={NOT_STARTED:0,BEFORE_SCRIPTS:1,DOM_READY:2,LOAD:3,AFTER_SCRIPTS:4};deferJsNs.DeferJs.PRIORITY_PSA_NOT_PROCESSED="priority_frz_not_processed";deferJsNs.DeferJs.PSA_NOT_PROCESSED="frz_not_processed";deferJsNs.DeferJs.PSA_CURRENT_NODE="frz_current_node";deferJsNs.DeferJs.PSA_TO_BE_DELETED="frz_to_be_deleted";deferJsNs.DeferJs.PSA_SCRIPT_TYPE="text/frzjs";deferJsNs.DeferJs.PRIORITY_PSA_SCRIPT_TYPE="text/priorityfrzjs";deferJsNs.DeferJs.PSA_ORIG_TYPE="frz_orig_type";deferJsNs.DeferJs.PSA_ORIG_SRC="frz_orig_src";deferJsNs.DeferJs.PSA_ORIG_INDEX="orig_index";deferJsNs.DeferJs.PAGESPEED_ONLOAD="data-frz-onload";deferJsNs.DeferJs.prototype.log=function(e,t){if(this.logs){this.logs.push(""+e);if(t){this.logs.push(t);if(typeof console!="undefined"&&typeof console.error!="undefined"){console.error(e,t.stack)}}}};deferJsNs.DeferJs.prototype.submitTask=function(e,t){var r=t?t:this.queue_.length;this.queue_.splice(r,0,e)};deferJsNs.DeferJs.prototype.globalEval=function(e,t){var r=this.cloneScriptNode(t);r.text=e;r.setAttribute("type","text/javascript");var s=this.getCurrentDomLocation();s.parentNode.insertBefore(r,s);return r};deferJsNs.DeferJs.prototype.createIdVars=function(){var e=document.getElementsByTagName("*");var t="";for(var r=0;r<e.length;r++){if(e[r].hasAttribute("id")){var s=e[r].getAttribute("id");if(s&&s.search(/[-:.]/)==-1&&s.search(/^[0-9]/)==-1){try{if(window[s]&&window[s].tagName){t+="var "+s+'=document.getElementById("'+s+'");'}}catch(i){this.log("Exception while evaluating the script : ",i)}}}}if(t){var n=this.globalEval(t);n.setAttribute(deferJsNs.DeferJs.PSA_NOT_PROCESSED,"");n.setAttribute(deferJsNs.DeferJs.PRIORITY_PSA_NOT_PROCESSED,"")}};deferJsNs.DeferJs.prototype.addNode=function(e,t){var r=e.getAttribute(deferJsNs.DeferJs.PSA_ORIG_SRC)||e.getAttribute("src");if(r){this.addUrl(r,e,t)}else{var s=e.innerHTML||e.textContent||e.data||"";this.addStr(s,e,t)}};deferJsNs.DeferJs.prototype.addStr=function(e,t,r){if(this.isFireFox()){this.addUrl("data:text/javascript,"+encodeURIComponent(e),t,r);return}this.logs.push("Add to queue str: "+e);var s=this;this.submitTask(function(){s.removeNotProcessedAttributeTillNode(t);var r=s.nextPsaJsNode();r.setAttribute(deferJsNs.DeferJs.PSA_CURRENT_NODE,"");try{s.globalEval(e,t)}catch(i){s.log("Exception while evaluating the script : ",i)}s.log("Evaluated: "+e);s.runNext()},r)};deferJsNs.DeferJs.prototype["addStr"]=deferJsNs.DeferJs.prototype.addStr;deferJsNs.DeferJs.prototype.cloneScriptNode=function(e){var t=this.origCreateElement_.call(document,"script");if(e){for(var r=e.attributes,s=r.length,i=s-1;i>=0;--i){if(r[i].name!="type"&&r[i].name!="src"&&r[i].name!="async"&&r[i].name!="defer"&&r[i].name!=deferJsNs.DeferJs.PSA_ORIG_TYPE&&r[i].name!=deferJsNs.DeferJs.PSA_ORIG_SRC&&r[i].name!=deferJsNs.DeferJs.PSA_ORIG_INDEX&&r[i].name!=deferJsNs.DeferJs.PSA_CURRENT_NODE&&r[i].name!=this.psaNotProcessed_){t.setAttribute(r[i].name,r[i].value);e.removeAttribute(r[i].name)}}}return t};deferJsNs.DeferJs.prototype.scriptOnLoad=function(e){var t=this.origCreateElement_.call(document,"script");t.setAttribute("type","text/javascript");t.async=false;t.setAttribute(deferJsNs.DeferJs.PSA_TO_BE_DELETED,"");t.setAttribute(deferJsNs.DeferJs.PSA_NOT_PROCESSED,"");t.setAttribute(deferJsNs.DeferJs.PRIORITY_PSA_NOT_PROCESSED,"");var r=this;var s=function(){if(document.querySelector){var t=document.querySelector("["+deferJsNs.DeferJs.PSA_TO_BE_DELETED+"]");if(t){t.parentNode.removeChild(t)}}r.log("Executed: "+e);r.runNext()};deferJsNs.addOnload(t,s);pagespeedutils.addHandler(t,"error",s);t.src="data:text/javascript,"+encodeURIComponent("window.pagespeed.psatemp=0;");var i=this.getCurrentDomLocation();i.parentNode.insertBefore(t,i)};deferJsNs.DeferJs.prototype.addUrl=function(e,t,r){this.logs.push("Add to queue url: "+e);var s=this;this.submitTask(function(){s.removeNotProcessedAttributeTillNode(t);var r=s.cloneScriptNode(t);r.setAttribute("type","text/javascript");var i=true;if("async"in r){r.async=false}else if(r.readyState){i=false;var n=function(){if(r.readyState=="complete"||r.readyState=="loaded"){r.onreadystatechange=null;s.log("Executed: "+e);s.runNext()}};pagespeedutils.addHandler(r,"readystatechange",n)}r.setAttribute("src",e);var o=t.innerHTML||t.textContent||t.data;if(o){r.appendChild(document.createTextNode(o))}var d=s.nextPsaJsNode();d.setAttribute(deferJsNs.DeferJs.PSA_CURRENT_NODE,"");d.parentNode.insertBefore(r,d);if(i){s.scriptOnLoad(e)}},r)};deferJsNs.DeferJs.prototype["addUrl"]=deferJsNs.DeferJs.prototype.addUrl;deferJsNs.DeferJs.prototype.removeNotProcessedAttributeTillNode=function(e){if(document.querySelectorAll&&!(this.getIEVersion()<=8)){var t=document.querySelectorAll("["+this.psaNotProcessed_+"]");for(var r=0;r<t.length;r++){var s=t.item(r);if(s==e){return}if(s.getAttribute("type")!=this.psaScriptType_){s.removeAttribute(this.psaNotProcessed_)}}}};deferJsNs.DeferJs.prototype.setNotProcessedAttributeForNodes=function(){var e=this.origGetElementsByTagName_.call(document,"*");for(var t=0;t<e.length;t++){var r=e.item(t);r.setAttribute(this.psaNotProcessed_,"")}};deferJsNs.DeferJs.prototype.nextPsaJsNode=function(){var e=null;if(document.querySelector){e=document.querySelector('[type="'+this.psaScriptType_+'"]')}return e};deferJsNs.DeferJs.prototype.getCurrentDomLocation=function(){var e;if(document.querySelector){e=document.querySelector("["+deferJsNs.DeferJs.PSA_CURRENT_NODE+"]")}return e||this.origGetElementsByTagName_.call(document,"psanode")[0]};deferJsNs.DeferJs.prototype.removeCurrentDomLocation=function(){var e=this.getCurrentDomLocation();if(e.nodeName=="SCRIPT"){e.parentNode.removeChild(e)}};deferJsNs.DeferJs.prototype.onComplete=function(){if(this.state_>=deferJsNs.DeferJs.STATES.WAITING_FOR_ONLOAD){return}if(this.lastIncrementalRun_&&this.isLowPriorityDeferJs()){if(this.getIEVersion()&&document.documentElement["originalDoScroll"]){document.documentElement.doScroll=document.documentElement["originalDoScroll"]}if(Object.defineProperty){delete document["readyState"]}if(this.getIEVersion()){if(Object.defineProperty){delete document["all"]}}}this.overrideDefaultImplementation_=false;if(this.lastIncrementalRun_){this.state_=deferJsNs.DeferJs.STATES.WAITING_FOR_ONLOAD;if(this.isLowPriorityDeferJs()){var e=this;if(document.readyState!="complete"){deferJsNs.addOnload(window,function(){e.fireOnload()})}else{if(document.onreadystatechange){this.exec(document.onreadystatechange,document)}if(window.onload){psaAddEventListener(window,"onload",window.onload);window.onload=null}this.fireOnload()}}else{this.highPriorityFinalize()}}else{this.state_=deferJsNs.DeferJs.STATES.WAITING_FOR_NEXT_RUN;this.firstIncrementalRun_=false;if(this.incrementalScriptsDoneCallback_&&this.isLowPriorityDeferJs()){pagespeed.deferJs=pagespeed.highPriorityDeferJs;pagespeed["deferJs"]=pagespeed.highPriorityDeferJs;this.exec(this.incrementalScriptsDoneCallback_);this.incrementalScriptsDoneCallback_=null}else{this.highPriorityFinalize()}}};deferJsNs.DeferJs.prototype.fireOnload=function(){if(this.isLowPriorityDeferJs()){this.addDeferredOnloadListeners();pagespeed.highPriorityDeferJs.fireOnload()}this.fireEvent(deferJsNs.DeferJs.EVENT.LOAD);if(this.isLowPriorityDeferJs()){var e=document.body.getElementsByTagName("psanode");for(var t=e.length-1;t>=0;t--){document.body.removeChild(e[t])}var r=document.body.getElementsByClassName("psa_prefetch_container");for(var t=r.length-1;t>=0;t--){r[t].parentNode.removeChild(r[t])}}this.state_=deferJsNs.DeferJs.STATES.SCRIPTS_DONE;this.fireEvent(deferJsNs.DeferJs.EVENT.AFTER_SCRIPTS)};deferJsNs.DeferJs.prototype.highPriorityFinalize=function(){var e=this;window.setTimeout(function(){pagespeed.deferJs=pagespeed.lowPriorityDeferJs;pagespeed["deferJs"]=pagespeed.lowPriorityDeferJs;if(e.incrementalScriptsDoneCallback_){pagespeed.deferJs.registerScriptTags(e.incrementalScriptsDoneCallback_,e.optLastIndex_);e.incrementalScriptsDoneCallback_=null}else{pagespeed.deferJs.registerScriptTags()}pagespeed.deferJs.execute()},0)};deferJsNs.DeferJs.prototype.checkNodeInDom=function(e){while(e=e.parentNode){if(e==document){return true}}return false};deferJsNs.DeferJs.prototype.getNumScriptsWithNoOnload=function(e){var t=0;var r=e.length;for(var s=0;s<r;++s){var i=e[s];var n=i.parentNode;var o=i.src;var d=i.textContent;if(this.getIEVersion()>8&&(!n||o==""&&d=="")||!this.getIEVersion()&&(!this.checkNodeInDom(i)||o=="")){t++}}return t};deferJsNs.DeferJs.prototype.canCallOnComplete=function(){if(this.state_!=deferJsNs.DeferJs.STATES.SYNC_SCRIPTS_DONE){return false}var e=0;if(this.dynamicInsertedScriptCount_!=0){e=this.getNumScriptsWithNoOnload(this.dynamicInsertedScript_)}if(this.dynamicInsertedScriptCount_==e){return true}return false};deferJsNs.DeferJs.prototype.scriptsAreDone=function(){return this.state_===deferJsNs.DeferJs.STATES.SCRIPTS_DONE};deferJsNs.DeferJs.prototype["scriptsAreDone"]=deferJsNs.DeferJs.prototype.scriptsAreDone;deferJsNs.DeferJs.prototype.runNext=function(){this.handlePendingDocumentWrites();this.removeCurrentDomLocation();if(this.next_<this.queue_.length){this.next_++;this.queue_[this.next_-1].call(window)}else{if(this.lastIncrementalRun_){this.state_=deferJsNs.DeferJs.STATES.SYNC_SCRIPTS_DONE;this.removeNotProcessedAttributeTillNode();this.fireEvent(deferJsNs.DeferJs.EVENT.DOM_READY);if(this.canCallOnComplete()){this.onComplete()}}else{this.onComplete()}}};deferJsNs.DeferJs.prototype.nodeListToArray=function(e){var t=[];var r=e.length;for(var s=0;s<r;++s){t.push(e.item(s))}return t};deferJsNs.DeferJs.prototype.setUp=function(){var e=this;if(this.firstIncrementalRun_&&!this.isLowPriorityDeferJs()){var t=document.createElement("psanode");t.setAttribute("psa_dw_target","true");document.body.appendChild(t);if(this.getIEVersion()){this.createIdVars()}if(Object.defineProperty){try{var r={configurable:true};r.get=function(){return e.state_>=deferJsNs.DeferJs.STATES.SYNC_SCRIPTS_DONE?"interactive":"loading"};Object.defineProperty(document,"readyState",r)}catch(s){this.log("Exception while overriding document.readyState.",s)}}if(this.getIEVersion()){document.documentElement["originalDoScroll"]=document.documentElement.doScroll;document.documentElement.doScroll=function(){throw"psa exception"};if(Object.defineProperty){try{var r={configurable:true};r.get=function(){return undefined};Object.defineProperty(document,"all",r)}catch(s){this.log("Exception while overriding document.all.",s)}}}}this.overrideAddEventListeners();document.writeln=function(t){e.writeHtml(t+"\n")};document.write=function(t){e.writeHtml(t)};document.open=function(){if(!e.overrideDefaultImplementation_){e.origDocOpen_.call(document)}};document.close=function(){if(!e.overrideDefaultImplementation_){e.origDocClose_.call(document)}};document.getElementById=function(t){e.handlePendingDocumentWrites();var r=e.origGetElementById_.call(document,t);return r==null||r.hasAttribute(e.psaNotProcessed_)?null:r};if(document.querySelectorAll&&!(e.getIEVersion()<=8)){document.getElementsByTagName=function(t){if(e.overrideDefaultImplementation_){try{return document.querySelectorAll(t+":not(["+e.psaNotProcessed_+"])")}catch(r){}}return e.origGetElementsByTagName_.call(document,t)}}document.createElement=function(t){var r=e.origCreateElement_.call(document,t);if(e.overrideDefaultImplementation_&&t.toLowerCase()=="script"){e.dynamicInsertedScript_.push(r);e.dynamicInsertedScriptCount_++;var s=function(){e.dynamicInsertedScriptCount_--;var t=e.dynamicInsertedScript_.indexOf(this);if(t!=-1){e.dynamicInsertedScript_.splice(t,1);if(e.canCallOnComplete()){e.onComplete()}}};deferJsNs.addOnload(r,s);pagespeedutils.addHandler(r,"error",s)}return r}};deferJsNs.DeferJs.prototype.execute=function(){if(this.state_!=deferJsNs.DeferJs.STATES.SCRIPTS_REGISTERED){return}var e=0;if(this.noDeferAsyncScriptsCount_!=0){e=this.getNumScriptsWithNoOnload(this.noDeferAsyncScripts_)}if(this.noDeferAsyncScriptsCount_==e){this.run()}};deferJsNs.DeferJs.prototype["execute"]=deferJsNs.DeferJs.prototype.execute;deferJsNs.DeferJs.prototype.run=function(){if(this.state_!=deferJsNs.DeferJs.STATES.SCRIPTS_REGISTERED){return}if(this.firstIncrementalRun_){this.fireEvent(deferJsNs.DeferJs.EVENT.BEFORE_SCRIPTS)}this.state_=deferJsNs.DeferJs.STATES.SCRIPTS_EXECUTING;this.setUp();this.runNext()};deferJsNs.DeferJs.prototype["run"]=deferJsNs.DeferJs.prototype.run;deferJsNs.DeferJs.prototype.parseHtml=function(e){var t=this.origCreateElement_.call(document,"div");t.innerHTML="<div>_</div>"+e;t.removeChild(t.firstChild);return t};deferJsNs.DeferJs.prototype.disown=function(e){var t=e.parentNode;if(t){t.removeChild(e)}};deferJsNs.DeferJs.prototype.insertNodesBeforeElem=function(e,t){var r=this.nodeListToArray(e);var s=r.length;var i=t.parentNode;for(var n=0;n<s;++n){var o=r[n];this.disown(o);i.insertBefore(o,t)}};deferJsNs.DeferJs.prototype.isJSNode=function(e){if(e.nodeName!="SCRIPT"){return false}if(e.hasAttribute("type")){var t=e.getAttribute("type");return!t||this.jsMimeTypes.indexOf(t)!=-1}else if(e.hasAttribute("language")){var r=e.getAttribute("language");return!r||this.jsMimeTypes.indexOf("text/"+r.toLowerCase())!=-1}return true};deferJsNs.DeferJs.prototype.markNodesAndExtractScriptNodes=function(e,t){if(!e.childNodes){return}var r=this.nodeListToArray(e.childNodes);var s=r.length;for(var i=0;i<s;++i){var n=r[i];if(n.nodeName=="SCRIPT"){if(this.isJSNode(n)){t.push(n);n.setAttribute(deferJsNs.DeferJs.PSA_ORIG_TYPE,n.type);n.setAttribute("type",this.psaScriptType_);n.setAttribute(deferJsNs.DeferJs.PSA_ORIG_SRC,n.src);n.setAttribute("src","");n.setAttribute(this.psaNotProcessed_,"")}}else{this.markNodesAndExtractScriptNodes(n,t)}}};deferJsNs.DeferJs.prototype.deferScripts=function(e,t){var r=e.length;for(var s=0;s<r;++s){this.addNode(e[s],t+s)}};deferJsNs.DeferJs.prototype.insertHtml=function(e,t,r){var s=this.parseHtml(e);var i=[];this.markNodesAndExtractScriptNodes(s,i);if(r){this.insertNodesBeforeElem(s.childNodes,r)}else{this.log("Unable to insert nodes, no context element found")}this.deferScripts(i,t)};deferJsNs.DeferJs.prototype.handlePendingDocumentWrites=function(){if(this.documentWriteHtml_==""){return}this.log("handle_dw: "+this.documentWriteHtml_);var e=this.documentWriteHtml_;this.documentWriteHtml_="";var t=this.getCurrentDomLocation();this.insertHtml(e,this.next_,t)};deferJsNs.DeferJs.prototype.writeHtml=function(e){if(this.overrideDefaultImplementation_){this.log("dw: "+e);this.documentWriteHtml_+=e}else{this.origDocWrite_.call(document,e)}};deferJsNs.DeferJs.prototype.addDeferredOnloadListeners=function(){var e;if(document.querySelectorAll){e=document.querySelectorAll("["+deferJsNs.DeferJs.PAGESPEED_ONLOAD+"][data-frz-loaded]")}for(var t=0;t<e.length;t++){var r=e.item(t);var s=r.getAttribute(deferJsNs.DeferJs.PAGESPEED_ONLOAD);var i="var psaFunc=function() {"+s+"};";window["eval"].call(window,i);if(typeof window["psaFunc"]!="function"){this.log("Function is not defined",new Error(""));continue}psaAddEventListener(r,"onload",window["psaFunc"])}};deferJsNs.DeferJs.prototype.addBeforeDeferRunFunctions=function(e){psaAddEventListener(window,"onbeforescripts",e)};deferJsNs.DeferJs.prototype["addBeforeDeferRunFunctions"]=deferJsNs.DeferJs.prototype.addBeforeDeferRunFunctions;deferJsNs.DeferJs.prototype.addAfterDeferRunFunctions=function(e){psaAddEventListener(window,"onafterscripts",e)};deferJsNs.DeferJs.prototype["addAfterDeferRunFunctions"]=deferJsNs.DeferJs.prototype.addAfterDeferRunFunctions;deferJsNs.DeferJs.prototype.fireEvent=function(e){this.eventState_=e;this.log("Firing Event: "+e);var t=this.eventListenersMap_[e]||[];for(var r=0;r<t.length;++r){this.exec(t[r])}t.length=0};deferJsNs.DeferJs.prototype.exec=function(e,t){try{e.call(t||window)}catch(r){this.log("Exception while evaluating the script : ",r)}};deferJsNs.DeferJs.prototype.overrideAddEventListeners=function(){var e=this;if(window.addEventListener){document.addEventListener=function(t,r,s){psaAddEventListener(document,t,r,e.origDocAddEventListener_,s)};window.addEventListener=function(t,r,s){psaAddEventListener(window,t,r,e.origWindowAddEventListener_,s)}}else if(window.attachEvent){document.attachEvent=function(t,r){psaAddEventListener(document,t,r,e.origDocAttachEvent_)};window.attachEvent=function(t,r){psaAddEventListener(window,t,r,e.origWindowAttachEvent_)}}};var psaAddEventListener=function(e,t,r,s,i){var n=pagespeed["deferJs"];if(n.state_>=deferJsNs.DeferJs.STATES.WAITING_FOR_ONLOAD){if(s){s.call(e,t,r,i);return}if(n.state_>=deferJsNs.DeferJs.STATES.SCRIPTS_DONE){return}}var o;var d;if(n.eventState_<deferJsNs.DeferJs.EVENT.DOM_READY&&(t=="DOMContentLoaded"||t=="readystatechange"||t=="onDOMContentLoaded"||t=="onreadystatechange")){o=deferJsNs.DeferJs.EVENT.DOM_READY;d="DOMContentLoaded"}else if(n.eventState_<deferJsNs.DeferJs.EVENT.LOAD&&(t=="load"||t=="onload")){o=deferJsNs.DeferJs.EVENT.LOAD;d="load"}else if(t=="onbeforescripts"){o=deferJsNs.DeferJs.EVENT.BEFORE_SCRIPTS}else if(t=="onafterscripts"){o=deferJsNs.DeferJs.EVENT.AFTER_SCRIPTS}else{if(s){s.call(e,t,r,i)}return}var a=function(){var t={};t["bubbles"]=false;t["cancelable"]=false;t["eventPhase"]=2;t["timeStamp"]=(new Date).getTime();t["type"]=d;t["target"]=e!=window?e:document;t["currentTarget"]=e;r.call(e,t)};if(!n.eventListenersMap_[o]){n.eventListenersMap_[o]=[]}n.eventListenersMap_[o].push(a)};deferJsNs.DeferJs.prototype.registerScriptTags=function(e,t){if(this.state_>=deferJsNs.DeferJs.STATES.SCRIPTS_REGISTERED){return}if(e){if(!deferJsNs.DeferJs.isExperimentalMode){e();return}this.lastIncrementalRun_=false;this.incrementalScriptsDoneCallback_=e;if(t){this.optLastIndex_=t}}else{this.lastIncrementalRun_=true}this.state_=deferJsNs.DeferJs.STATES.SCRIPTS_REGISTERED;var r=document.getElementsByTagName("script");var s=r.length;for(var i=0;i<s;++i){var n=r[i];if(n.getAttribute("type")==this.psaScriptType_){if(e){var o=n.getAttribute(deferJsNs.DeferJs.PSA_ORIG_INDEX);if(o<=this.optLastIndex_){this.addNode(n)}}else{if(n.getAttribute(deferJsNs.DeferJs.PSA_ORIG_INDEX)<this.optLastIndex_){this.log("Executing a script twice. Orig_Index: "+n.getAttribute(deferJsNs.DeferJs.PSA_ORIG_INDEX),new Error(""))}this.addNode(n)}}}};deferJsNs.DeferJs.prototype["registerScriptTags"]=deferJsNs.DeferJs.prototype.registerScriptTags;deferJsNs.addOnload=function(e,t){pagespeedutils.addHandler(e,"load",t)};pagespeed["addOnload"]=deferJsNs.addOnload;deferJsNs.DeferJs.prototype.isFireFox=function(){return navigator.userAgent.indexOf("Firefox")!=-1};deferJsNs.DeferJs.prototype.isWebKit=function(){return navigator.userAgent.indexOf("AppleWebKit")!=-1};deferJsNs.DeferJs.prototype.getIEVersion=function(){var e=/(?:MSIE.(\d+\.\d+))/.exec(navigator.userAgent);return e&&e[1]?document.documentMode||parseFloat(e[1]):NaN};deferJsNs.DeferJs.prototype.setType=function(e){this.psaScriptType_=e};deferJsNs.DeferJs.prototype.setPsaNotProcessed=function(e){this.psaNotProcessed_=e};deferJsNs.DeferJs.prototype.isLowPriorityDeferJs=function(){if(this.psaScriptType_==deferJsNs.DeferJs.PSA_SCRIPT_TYPE){return true}return false};deferJsNs.DeferJs.prototype.noDeferCreateElementOverride=function(){var e=this;document.createElement=function(t){var r=e.origCreateElement_.call(document,t);if(e.overrideDefaultImplementation_&&t.toLowerCase()=="script"){e.noDeferAsyncScripts_.push(r);e.noDeferAsyncScriptsCount_++;var s=function(){var t=e.noDeferAsyncScripts_.indexOf(this);if(t!=-1){e.noDeferAsyncScripts_.splice(t,1);e.noDeferAsyncScriptsCount_--;e.execute()}};deferJsNs.addOnload(r,s);pagespeedutils.addHandler(r,"error",s)}return r}};deferJsNs.DeferJs.prototype.isExperimentalMode=function(){return deferJsNs.DeferJs.isExperimentalMode};deferJsNs.DeferJs.prototype["isExperimentalMode"]=deferJsNs.DeferJs.prototype.isExperimentalMode;deferJsNs.deferInit=function(){if(pagespeed["deferJs"]){return}deferJsNs.DeferJs.isExperimentalMode=pagespeed["defer_js_experimental"];pagespeed.highPriorityDeferJs=new deferJsNs.DeferJs;pagespeed.highPriorityDeferJs.setType(deferJsNs.DeferJs.PRIORITY_PSA_SCRIPT_TYPE);pagespeed.highPriorityDeferJs.setPsaNotProcessed(deferJsNs.DeferJs.PRIORITY_PSA_NOT_PROCESSED);pagespeed.highPriorityDeferJs.setNotProcessedAttributeForNodes();pagespeed.lowPriorityDeferJs=new deferJsNs.DeferJs;pagespeed.lowPriorityDeferJs.setType(deferJsNs.DeferJs.PSA_SCRIPT_TYPE);pagespeed.lowPriorityDeferJs.setPsaNotProcessed(deferJsNs.DeferJs.PSA_NOT_PROCESSED);pagespeed.lowPriorityDeferJs.setNotProcessedAttributeForNodes();pagespeed.deferJs=pagespeed.highPriorityDeferJs;pagespeed.deferJs.noDeferCreateElementOverride();pagespeed["deferJs"]=pagespeed.deferJs};deferJsNs.deferInit();pagespeed.deferJsStarted=false;deferJsNs.startDeferJs=function(){if(pagespeed.deferJsStarted||pagespeed["panelLoader"])return;if(window.preventDeferJSStart>0){window.preventDeferJSStart-=1;setTimeout(function(){deferJsNs.startDeferJs()},50);return}pagespeed.deferJsStarted=true;pagespeed.deferJs.registerScriptTags();pagespeed.deferJs.execute()};deferJsNs["startDeferJs"]=deferJsNs.startDeferJs;pagespeedutils.addHandler(document,"DOMContentLoaded",deferJsNs.startDeferJs);deferJsNs.addOnload(window,deferJsNs.startDeferJs);
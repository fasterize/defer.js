<html>
  <head>
    <title>js_defer example</title>
    <!-- Ensure that the insertion order in the output is maintained when some
    script is added via external file -->
  </head>
  <body>
    <script type="application/javascript">
      var output = [];
    </script>
    <script type="application/javascript" src="../assets/js_insertBefore4.js">
    </script>
    <script type="application/javascript" src="../assets/js_insertBefore4_5.js">
    </script>
    <script type="application/javascript" src="../assets/js_push2.js">
    </script>
    <script type="application/javascript" src="../assets/js_push3.js">
    </script>
    <script type="application/javascript">
      done(function () {
        expect(output).to.eql([2, 3, 4, 4, 5]);
      });
    </script>
  </body>
</html>

function k(){this.k=[],this.e=[],this.c=this.f=0,this.i=[],this.b="",this.j={},this.p="application/ecmascript application/javascript application/x-ecmascript application/x-javascript text/ecmascript text/javascript text/javascript1.0 text/javascript1.1 text/javascript1.2 text/javascript1.3 text/javascript1.4 text/javascript1.5 text/jscript text/livescript text/x-ecmascript text/x-javascript".split(" "),this.s=document.getElementById,this.m=document.getElementsByTagName,this.D=document.write,this.F=document.writeln,this.C=document.open,this.B=document.close,this.q=document.addEventListener,this.t=window.addEventListener,this.r=document.attachEvent,this.u=window.attachEvent,this.g=document.createElement,this.a=l}function n(a,b,c){a.k.splice(c?c:a.k.length,0,b)}function o(a,b){var c=a.g.call(document,"script");c.text=b,c.setAttribute("type","text/javascript");var d=p(a);d.parentNode.insertBefore(c,d)}function q(a){for(var b=document.getElementsByTagName("*"),c="",d=0;d<b.length;d++)if(b[d].hasAttribute("id")){var e=b[d].getAttribute("id");if(e&&-1==e.search(/[-:.]/)&&-1==e.search(/^[0-9]/))try{window[e]&&window[e].tagName&&(c+="var "+e+'=document.getElementById("'+e+'");')}catch(f){a.log("Exception while evaluating.",f)}}c&&o(a,c)}function r(a,b,c){var d=b.getAttribute("orig_src")||b.getAttribute("src");if(d)if(m){var e;e=new Image,e.src=d,e.loaded=f,e.onerror=e.onload=function(){e.loaded=!0,e.o&&(e.o=f,t(a))},a.h(d,b,c,e)}else a.h(d,b,c);else(d=b.innerHTML||b.textContent||b.data)&&a.n(d,b,c)}function u(a){if(document.querySelectorAll&&!(8>=w()))for(var b=document.querySelectorAll("[psa_not_processed]"),c=0;c<b.length;c++){var d=b.item(c);if(d==a)break;"text/psajs"!=d.getAttribute("type")&&d.removeAttribute("psa_not_processed")}}function x(a){for(var a=a.m.call(document,"*"),b=0;b<a.length;b++)a.item(b).setAttribute("psa_not_processed","")}function v(){var a=null;return document.querySelector&&(a=document.querySelector('[type="text/psajs"]')),a}function p(a){var b;return document.querySelector&&(b=document.querySelector("[psa_current_node]")),b||a.m.call(document,"psanode")[0]}function y(a){4!=a.a&&(u(),w()&&document.documentElement.originalDoScroll&&(document.documentElement.doScroll=document.documentElement.originalDoScroll),Object.defineProperty&&delete document.readyState,document.getElementById=a.s,document.querySelectorAll&&!(8>=w())&&(document.getElementsByTagName=a.m),m&&(document.createElement=a.g),window.addEventListener?(document.addEventListener=a.q,window.addEventListener=a.t):window.attachEvent&&(document.attachEvent=a.r,window.attachEvent=a.u),document.open=a.C,document.close=a.B,document.write=a.D,document.writeln=a.F,a.fireEvent(0),document.onreadystatechange&&a.exec(document.onreadystatechange,document),window.onload&&z(window,"onload",window.onload),a.fireEvent(1),a.a=4,a.fireEvent(3))}function t(a){B(a);var b=p(a);"SCRIPT"==b.nodeName&&b.parentNode.removeChild(b);if(a.f<a.k.length)a.f++,a.k[a.f-1].call(window);else if(m){a.a=3;if(0!=a.c)for(var b=a.i.length,c=0;c<b;++c)(!a.i[c].parentNode||""==a.i[c].src)&&a.c--;0>=a.c&&y(a)}else y(a)}function C(a){for(var b=[],c=a.length,d=0;d<c;++d)b.push(a.item(d));return b}function D(a){var b=document.createElement("psanode");b.setAttribute("psa_dw_target","true"),document.body.appendChild(b),w()&&q(a),x(a);if(Object.defineProperty)try{Object.defineProperty(document,"readyState",{configurable:!0,get:function(){return"loading"}})}catch(c){a.log("Exception while overriding document.readyState.",c)}w()&&(document.documentElement.originalDoScroll=document.documentElement.doScroll,document.documentElement.doScroll=function(){throw"psa exception"}),E(a),document.writeln=function(b){b+="\n",a.log("dw: "+b),a.b=a.b+b},document.write=function(b){a.log("dw: "+b),a.b=a.b+b},document.open=function(){},document.close=function(){},document.getElementById=function(b){return B(a),a.s.call(document,b)},document.querySelectorAll&&!(8>=w())&&(document.getElementsByTagName=function(a){return document.querySelectorAll(a+":not([psa_not_processed])")}),m&&(document.createElement=function(b){var c=a.g.call(document,b);return b.toLowerCase()=="script"&&(a.i.push(c),a.c++,b=function(){a.c--,a.c==0&&a.a==3&&y(a)},h.l(c,b),h.d(c,"error",b)),c})}function F(a,b){if("SCRIPT"!=b.nodeName)return f;if(b.hasAttribute("type")){var c=b.getAttribute("type");return!c||-1!=a.p.indexOf(c)}return b.hasAttribute("language")?(c=b.getAttribute("language"),!c||-1!=a.p.indexOf("text/"+c.toLowerCase())):!0}function G(a,b,c){if(b.childNodes)for(var b=C(b.childNodes),d=b.length,e=0;e<d;++e){var f=b[e];1==f.nodeType&&f.setAttribute("psa_not_processed",""),"SCRIPT"==f.nodeName?F(a,f)&&(c.push(f),f.setAttribute("orig_type",f.type),f.setAttribute("type","text/psajs"),f.setAttribute("orig_src",f.src),f.setAttribute("src","")):G(a,f,c)}}function B(a){if(""!=a.b){a.log("handle_dw: "+a.b);var b=a.b;a.b="";var c=p(a),d=a.f,e=a.g.call(document,"div");e.innerHTML="<div>_</div>"+b,e.removeChild(e.firstChild),b=[],G(a,e,b);if(c)for(var e=C(e.childNodes),f=e.length,g=c.parentNode,h=0;h<f;++h){var i=e[h],j=i.parentNode;j&&j.removeChild(i),g.insertBefore(i,c)}else a.log("Unable to insert nodes, no context element found");c=b.length;for(e=0;e<c;++e)r(a,b[e],d+e)}}function E(a){window.addEventListener?(document.addEventListener=function(b,c,d){z(document,b,c,d,a.q)},window.addEventListener=function(b,c,d){z(window,b,c,d,a.t)}):window.attachEvent&&(document.attachEvent=function(b,c){z(document,b,c,void 0,a.r)},window.attachEvent=function(b,c){z(window,b,c,void 0,a.u)})}function z(a,b,c,d,e){var g=h.deferJs;if(!(4<=g.a)){if("DOMContentLoaded"==b||"readystatechange"==b||"onDOMContentLoaded"==b||"onreadystatechange"==b)b=0;else if("load"==b||"onload"==b)b=1;else if("onbeforescripts"==b)b=2;else{if("onafterscripts"!=b){e&&e.call(a,b,c,d);return}b=3}var i;1==b&&!(8>=w())&&(i=document.createEvent("HTMLEvents"),i.initEvent("load",f,f)),g.j[b]||(g.j[b]=[]),g.j[b].push(function(){c.call(a,i)})}}function w(){var a=/(?:MSIE.(\d+\.\d+))/.exec(navigator.userAgent);return a&&a[1]?document.documentMode||parseFloat(a[1]):NaN}var f=!1;window.pagespeed=window.pagespeed||{};var h=window.pagespeed,m=f,l=0;k.prototype.log=function(a,b){this.e&&(this.e.push(""+a),b&&(this.e.push(b),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("PSA ERROR: "+a+b.message)))},k.prototype.n=function(a,b,c){if(-1!=navigator.userAgent.indexOf("Firefox"))this.h("data:text/javascript,"+encodeURIComponent(a),b,c);else{this.e.push("Add to queue str: "+a);var d=this;n(this,function(){u(b),v().setAttribute("psa_current_node","");try{o(d,a)}catch(c){d.log("Exception while evaluating.",c)}d.log("Evaluated: "+a),t(d)},c)}},k.prototype.addStr=k.prototype.n,k.prototype.h=function(a,b,c,d){this.e.push("Add to queue url: "+a);var e=this;n(this,function(){if(m&&d&&!d.loaded)e.f--,d.o=!0;else{u(b);var c=e.g.call(document,"script");c.setAttribute("type","text/javascript");var f=function(){e.log("Executed: "+a),t(e)};h.l(c,f),h.d(c,"error",f),9>w()&&h.d(c,"readystatechange",function(){if("complete"==c.readyState||"loaded"==c.readyState)c.onreadystatechange=null,f()}),c.setAttribute("src",a);var g=b.innerHTML||b.textContent||b.data;g&&c.appendChild(document.createTextNode(g)),g=v(),g.setAttribute("psa_current_node",""),g.parentNode.insertBefore(c,g)}},c)},k.prototype.addUrl=k.prototype.h,k.prototype.H=function(){2<=this.a||(this.fireEvent(2),this.a=2,D(this),t(this))},k.prototype.run=k.prototype.H,k.prototype.z=function(a,b){this.log("onload: "+b.toString()),4==this.a?b.call(a):z(a,"onload",b)},k.prototype.addOnloadListeners=k.prototype.z,k.prototype.w=function(a){z(window,"onbeforescripts",a)},k.prototype.addBeforeDeferRunFunctions=k.prototype.w,k.prototype.v=function(a){z(window,"onafterscripts",a)},k.prototype.addAfterDeferRunFunctions=k.prototype.v,k.prototype.fireEvent=function(a){this.log("Firing Event: "+a);for(var a=this.j[a]||[],b=0;b<a.length;++b)this.exec(a[b]);a.length=0},k.prototype.exec=function(a,b){try{a.call(b||window)}catch(c){this.log("Exception while evaluating.",c)}},k.prototype.G=function(){if(!(1<=this.a)){this.a=1;for(var a=document.getElementsByTagName("script"),b=a.length,c=0;c<b;++c){var d=a[c];"text/psajs"==d.getAttribute("type")&&r(this,d)}}},k.prototype.registerScriptTags=k.prototype.G,h.l=function(a,b){h.d(a,"load",b)},h.addOnload=h.l,h.d=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,f);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a["on"+b];a["on"+b]=function(){c.call(this),d&&d.call(this)}}},h.addHandler=h.d,h.outerHTML=function(a){return a.outerHTML||(new XMLSerializer).serializeToString(a)},h.A=function(){h.deferJs||(window.localStorage&&(m=window.localStorage.defer_js_experimental),h.deferJs=new k)},h.deferInit=h.A
